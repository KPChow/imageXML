<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script type="text/JavaScript" src="http://code.jquery.com/jquery-1.4.4.min.js"></script>
<script type="text/javascript" src="http://www.kennyb.co.uk/inc/jquery.mousewheel-3.0.2.pack.js"></script>
<script type="text/javascript" src="http://www.kennyb.co.uk/inc/jquery.fancybox-1.3.0.pack.js"></script>
<script type="text/javascript" src="livequery.js"></script>
<script type="text/javascript" src="jquery.tweet.js"></script>
<link rel="stylesheet" type="text/css" href="design.css" />
<link rel="stylesheet" type="text/css" href="jquery.tweet.css" />
<link rel="stylesheet" type="text/css" href="http://www.kennyb.co.uk/css/jquery.fancybox-1.3.0.css" media="screen" />
<title>XML Picture Gallery</title>
<script>
$(document).ready(function(){
	$.ajax({
		type: "GET",
		url: "images.xml",
		dataType: "xml",
		success: function(xml) {
			$(xml).find('image').each(function(){
				var id = $(this).attr('id');
				var class = $(this).attr('class');
				var caption = $(this).find('caption').text();
				var filename = $(this).find('filename').text();
				$('<div class="border"><span><a rel="group" href="'+filename+'" title="'+caption+'"><img id="'+id+'" class="'+class+'" src="'+filename+'"/></a></span></div>').appendTo('#page-wrap');
				
			});
		}
	});	
	
	$("a[rel=group]").livequery(function(){
		$(this).fancybox({ 
			'transitionIn'		: 'none',
			'transitionOut'		: 'none',
			'titlePosition' 	: 'inside',
			'titleFormat'		: function(title, currentArray, currentIndex, currentOpts) {
				return '<span id="fancybox-title-inside">Image ' + (currentIndex + 1) + ' / ' + currentArray.length + (title.length ? ' - ' + title : '') + '</span>';
			}
		});
	});
	
	$(".tweet").tweet({
		username: "Kennyb0183",
		avatar_size: 48,
		count: 5,
		//join_text: "auto",
		//auto_join_text_default: "we said,", 
		//auto_join_text_ed: "we",
		//auto_join_text_ing: "we were",
		//auto_join_text_reply: "we replied",
		//auto_join_text_url: "we were checking out",
		loading_text: "loading tweets..."
	});
	
});
</script>
<style>


</style>
</head>
<body>
	<div id="page-wrap">
     	<h1>XML Picture Gallery</h1>
    </div>
	<div style="clear:both;"></div>
	<h1>Currently read:</h1>
	<div class="tweet"></div>
</body>
</html>
